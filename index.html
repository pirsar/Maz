<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@500;700&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Vazirmatn', sans-serif;
      background: #fdfdfd;
      text-align: center;
      color: #333;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }
    header {
      background-color: #e6f2ef;
      padding: 2rem 1rem;
      position: relative;
      z-index: 10;
    }
    .logo {
      font-size: 3rem;
      font-weight: 700;
      color: #2a7a66;
      display: inline-block;
      position: relative;
    }
    .lang-buttons {
      margin-top: 1rem;
    }
    .lang-buttons a {
      display: inline;
      margin: 0 0.5rem;
      font-size: 1.5rem;
      padding: 0.5rem 1rem;
      background: #2a7a66;
      color: #fff;
      border-radius: 8px;
      text-decoration: none;
      transition: background 0.3s;
    }
    .lang-buttons a:hover {
      background: #206456;
    }
    .main-image {
      width: 100%;
      max-height: 500px;
      object-fit: cover;
      position: relative;
      z-index: 5;
    }
    .poem {
      font-size: 1.6rem;
      font-weight: 500;
      margin: 2rem 1rem 4rem 1rem;
      color: #444;
      position: relative;
      z-index: 10;
    }
    /* Ù¾Ø±ÙˆØ§Ù†Ù‡â€ŒÙ‡Ø§ */
    .butterfly {
      width: 50px;
      height: 50px;
      position: absolute;
      pointer-events: none;
      user-select: none;
      filter: drop-shadow(0 0 2px rgba(0,0,0,0.2));
      will-change: transform, top, left;
      transition: transform 0.3s ease;
    }
    /* Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ù‡ Ú©Ù…Ú© ÙÛŒÙ„ØªØ± hue-rotate */
    .butterfly:nth-child(1) {
      filter: drop-shadow(0 0 3px #ff4081);
    }
    .butterfly:nth-child(2) {
      filter: drop-shadow(0 0 3px #3f51b5);
    }
    .butterfly:nth-child(3) {
      filter: drop-shadow(0 0 3px #ff9800);
    }
    @media (max-width: 600px) {
      .logo {
        font-size: 2.2rem;
      }
      .lang-buttons a {
        font-size: 1.2rem;
        padding: 0.4rem 0.8rem;
      }
      .poem {
        font-size: 1.3rem;
      }
      .butterfly {
        width: 35px;
        height: 35px;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="logo" id="logo">Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†</div>
    <div class="lang-buttons">
      <a href="index.fr.html">ğŸ‡«ğŸ‡· </a>
      <a href="index.fa.html">â˜˜ï¸ </a>
      <a href="index.en.html">ğŸ‡¬ğŸ‡§ </a>
    </div>
  </header>

  <img src="https://i.imgur.com/Ch2abmO.jpeg" alt="ØªØµÙˆÛŒØ±ÛŒ Ø§Ø² Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†" class="main-image" id="mainImage">

  <div class="poem" id="poem">
    Ú©Ù‡ Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù† Ø´Ù‡Ø± Ù…Ø§ ÛŒØ§Ø¯ Ø¨Ø§Ø¯<br />
    Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø± Ùˆ Ø¨ÙˆÙ…Ø´ Ø¢Ø¨Ø§Ø¯ Ø¨Ø§Ø¯
  </div>

  <!-- Ù¾Ø±ÙˆØ§Ù†Ù‡â€ŒÙ‡Ø§ -->
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Butterfly_icon.svg/1024px-Butterfly_icon.svg.png"
       alt="Ù¾Ø±ÙˆØ§Ù†Ù‡" class="butterfly" id="butterfly1" />
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Butterfly_icon.svg/1024px-Butterfly_icon.svg.png"
       alt="Ù¾Ø±ÙˆØ§Ù†Ù‡" class="butterfly" id="butterfly2" />
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Butterfly_icon.svg/1024px-Butterfly_icon.svg.png"
       alt="Ù¾Ø±ÙˆØ§Ù†Ù‡" class="butterfly" id="butterfly3" />

  <script>
    const logo = document.getElementById('logo');
    const mainImage = document.getElementById('mainImage');
    const poem = document.getElementById('poem');
    const butterflies = [
      document.getElementById('butterfly1'),
      document.getElementById('butterfly2'),
      document.getElementById('butterfly3'),
    ];

    function updatePositions() {
      const logoRect = logo.getBoundingClientRect();
      const mainImageRect = mainImage.getBoundingClientRect();
      const poemRect = poem.getBoundingClientRect();

      return {
        startX: logoRect.left + logoRect.width / 2 + window.scrollX,
        startY: logoRect.top + logoRect.height / 2 + window.scrollY,
        imageX: mainImageRect.left + mainImageRect.width / 2 + window.scrollX,
        imageY: mainImageRect.top + mainImageRect.height / 2 + window.scrollY,
        poemX: poemRect.left + poemRect.width / 2 + window.scrollX,
        poemY: poemRect.top + poemRect.height / 2 + window.scrollY,
      };
    }

    function animateButterfly(butterfly, delay, phaseOffset) {
      let start = null;
      const duration = 15000; // Û±Ûµ Ø«Ø§Ù†ÛŒÙ‡ Ú©Ù„ Ú†Ø±Ø®Ù‡
      const radius = 80; // Ø´Ø¹Ø§Ø¹ Ú†Ø±Ø®Ø´ Ø±ÙˆÛŒ Ø¹Ú©Ø³

      function step(timestamp) {
        if (!start) start = timestamp;
        const elapsed = (timestamp - start + delay) % duration;
        const progress = elapsed / duration;

        const pos = updatePositions();

        if (progress < 0.2) {
          // Ø­Ø±Ú©Øª Ø®Ø·ÛŒ Ø§Ø² Ù„ÙˆÚ¯Ùˆ Ø¨Ù‡ Ù…Ø±Ú©Ø² Ø¹Ú©Ø³
          const t = progress / 0.2;
          const x = pos.startX + t * (pos.imageX - pos.startX);
          const y = pos.startY + t * (pos.imageY - pos.startY);
          butterfly.style.left = (x - butterfly.width / 2) + 'px';
          butterfly.style.top = (y - butterfly.height / 2) + 'px';
          butterfly.style.transform = `rotate(${t * 360}deg)`;
        } else if (progress < 0.6) {
          // Ú†Ø±Ø®Ø´ Ø±ÙˆÛŒ Ø¹Ú©Ø³
          const t = (progress - 0.2) / 0.4;
          const angle = 2 * Math.PI * t + phaseOffset;
          const x = pos.imageX + radius * Math.cos(angle);
          const y = pos.imageY + radius * Math.sin(angle) * 0.6; // Ø¨ÛŒØ¶ÛŒ Ú©Ù…ÛŒ
          butterfly.style.left = (x - butterfly.width / 2) + 'px';
          butterfly.style.top = (y - butterfly.height / 2) + 'px';
          butterfly.style.transform = `rotate(${angle * 180 / Math.PI + 45}deg)`;
        } else if (progress < 0.8) {
          // Ø­Ø±Ú©Øª Ø®Ø·ÛŒ Ø§Ø² Ø¹Ú©Ø³ Ø¨Ù‡ Ø´Ø¹Ø±
          const t = (progress - 0.6) / 0.2;
          const x = pos.imageX + t * (pos.poemX - pos.imageX);
          const y = pos.imageY + t * (pos.poemY - pos.imageY);
          butterfly.style.left = (x - butterfly.width / 2) + 'px';
          butterfly.style.top = (y - butterfly.height / 2) + 'px';
          butterfly.style.transform = `rotate(${t * 360}deg)`;
        } else {
          // Ù¾Ø±ÙˆØ§Ø² Ø¢Ø²Ø§Ø¯ Ø±ÙˆÛŒ ØµÙØ­Ù‡ØŒ Ø­Ø±Ú©ØªÛŒ Ù†ÙˆØ³Ø§Ù†ÛŒ
          const t = (progress - 0.8) / 0.2;
          const x = pos.poemX + 150 * Math.cos(2 * Math.PI * t + phaseOffset);
          const y = pos.poemY + 100 * Math.sin(2 * Math.PI * t + phaseOffset * 1.5);
          butterfly.style.left = (x - butterfly.width / 2) + 'px';
          butterfly.style.top = (y - butterfly.height / 2) + 'px';
          butterfly.style.transform = `rotate(${t * 360 * 2}deg)`;
        }

        requestAnimationFrame(step);
      }

      requestAnimationFrame(step);
    }

    // Ø´Ø±ÙˆØ¹ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù¾Ø±ÙˆØ§Ù†Ù‡ Ø¨Ø§ ØªØ£Ø®ÛŒØ± Ùˆ ÙØ§Ø² Ù…ØªÙØ§ÙˆØª
    animateButterfly(butterflies[0], 0, 0);
    animateButterfly(butterflies[1], 5000, Math.PI * 2 / 3);
    animateButterfly(butterflies[2], 10000, Math.PI * 4 / 3);

    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ Ù‡Ù†Ú¯Ø§Ù… ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù¾Ù†Ø¬Ø±Ù‡ (Ø±ÙØ±Ø´ ØµÙØ­Ù‡)
    window.addEventListener('resize', () => {
      // Ø§ÛŒÙ†Ø¬Ø§ Ù‡ÛŒÚ† Ú©Ø§Ø±ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ú†ÙˆÙ† Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ Ù‡Ø± Ø¨Ø§Ø± Ø¯Ø± Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
      // Ø§Ù…Ø§ Ø§Ú¯Ø± Ù„Ø§Ø²Ù… Ø´Ø¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ø§ÛŒÙ†Ø¬Ø§ Ú©Ø§Ø±ÛŒ Ú©Ù†ÛŒÙ…
    });
  </script>
</body>
</html>
